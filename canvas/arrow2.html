<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Rotate to Mouse</title>
<link rel="stylesheet" href="css/index.css">
</head>
<body>
<canvas id="canvas" width="400" height="400"></canvas>
<script src="utils/utils.js"></script>
<script>

window.onload = function () {
	
	var canvas = document.getElementById('canvas'),
	context = canvas.getContext('2d'),
	mouse = captureMouse(canvas),
	arrow = new Arrow();
	arrow.x = canvas.width / 2;
	arrow.y = canvas.height / 2;
	canvas.width  = 400;
	canvas.height  = 400;

	drawFrame();

	function resizeCanvas() {
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
		centerX = canvas.width / 4;
		centerY = canvas.height / 4;

		/**
		 * Your drawings need to be inside this function otherwise they will be reset when
		 * you resize the browser window and the canvas goes will be cleared.
		 */
		//drawStuff();
	}
	resizeCanvas();

	function drawFrame () {
		
		window.requestAnimationFrame(drawFrame, canvas);
		context.clearRect(0, 0, canvas.width, canvas.height);
		var dx = mouse.x - arrow.x,
		dy = mouse.y - arrow.y;
		arrow.rotation = Math.atan2(dy, dx); //radians
		var temp = Math.abs(Math.atan2(dy, dx)* 180 / Math.PI);
		var temp2 = temp.toString();
		temp 	 = parseFloat(temp2.replace(/,/g, ''));
		console.log('atan2 en grados: '+Math.atan2(dy, dx)* 180 / Math.PI+' y en radianes'+Math.atan2(dy, dx)+'queda: '+temp2);
		arrow.draw(context);
	};
	
};
</script>
</body>
</html>